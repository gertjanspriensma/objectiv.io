



    <div class="container-xl">
      <div class="row">
          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="module-bach.partitioning">
<span id="bach-partitioning"></span><h1>bach.partitioning<a class="headerlink" href="#module-bach.partitioning" title="Permalink to this headline">¶</a></h1>
<p class="rubric">Classes</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#bach.partitioning.Cube" title="bach.partitioning.Cube"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a>(group_by_columns)</p></td>
<td><p>Very simple abstraction to support cubes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#bach.partitioning.GroupBy" title="bach.partitioning.GroupBy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GroupBy</span></code></a>(group_by_columns)</p></td>
<td><p>Class to build GROUP BY expressions.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#bach.partitioning.GroupingList" title="bach.partitioning.GroupingList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GroupingList</span></code></a>(grouping_list)</p></td>
<td><p>Abstraction to support SQL's GROUP BY (colA,colB), CUBE(ColC,ColD), ROLLUP(ColC,ColE) like expressions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#bach.partitioning.GroupingSet" title="bach.partitioning.GroupingSet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GroupingSet</span></code></a>(grouping_list)</p></td>
<td><p>Abstraction to support SQLs GROUP BY GROUPING SETS ((colA,colB),(ColA),(ColC))</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#bach.partitioning.Rollup" title="bach.partitioning.Rollup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Rollup</span></code></a>(group_by_columns)</p></td>
<td><p>Very simple abstraction to support rollups</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#bach.partitioning.Window" title="bach.partitioning.Window"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Window</span></code></a>(group_by_columns, order_by[, mode, ...])</p></td>
<td><p>Class representing an &quot;immutable&quot; window as defined in the SQL standard.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#bach.partitioning.WindowFrameBoundary" title="bach.partitioning.WindowFrameBoundary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WindowFrameBoundary</span></code></a>(value)</p></td>
<td><p>Class representing the frame boundaries in a Window</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#bach.partitioning.WindowFrameMode" title="bach.partitioning.WindowFrameMode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WindowFrameMode</span></code></a>(value)</p></td>
<td><p>Class representing the frame mode in a Window</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="bach.partitioning.Cube">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bach.partitioning.</span></span><span class="sig-name descname"><span class="pre">Cube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_by_columns</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L94-L105"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Very simple abstraction to support cubes</p>
<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.Cube.get_group_by_column_expression">
<span class="sig-name descname"><span class="pre">get_group_by_column_expression</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L103-L105"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Cube.get_group_by_column_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>get the group_by expression, including all the relevant columns and the way of grouping,
but without the “group by” clause, as these potentially have to be nested into one group-by</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.Cube.get_index_column_expressions">
<span class="sig-name descname"><span class="pre">get_index_column_expressions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L78-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Cube.get_index_column_expressions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.Cube.index">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bach.partitioning.Cube.index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bach.partitioning.GroupBy">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bach.partitioning.</span></span><span class="sig-name descname"><span class="pre">GroupBy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_by_columns</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L43-L91"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupBy" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to build GROUP BY expressions. This is the basic building block to create more complex
expressions. This class represents a grouping/partitioning by columns/series or expressions
thereof.</p>
<p>For more complex grouping expressions, this class should be extended.</p>
<p>Instances of this class and subclasses are <strong>immutable</strong>. Any modifying operations should
return a fresh copy.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.GroupBy.get_group_by_column_expression">
<span class="sig-name descname"><span class="pre">get_group_by_column_expression</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L81-L87"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupBy.get_group_by_column_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>get the group_by expression, including all the relevant columns and the way of grouping,
but without the “group by” clause, as these potentially have to be nested into one group-by</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.GroupBy.get_index_column_expressions">
<span class="sig-name descname"><span class="pre">get_index_column_expressions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L78-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupBy.get_index_column_expressions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.GroupBy.index">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bach.partitioning.GroupBy.index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bach.partitioning.GroupingList">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bach.partitioning.</span></span><span class="sig-name descname"><span class="pre">GroupingList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grouping_list</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bach.partitioning.GroupBy" title="bach.partitioning.GroupBy"><span class="pre">bach.partitioning.GroupBy</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L123-L154"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupingList" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstraction to support SQL’s
GROUP BY (colA,colB), CUBE(ColC,ColD), ROLLUP(ColC,ColE)
like expressions</p>
<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.GroupingList.get_group_by_column_expression">
<span class="sig-name descname"><span class="pre">get_group_by_column_expression</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L149-L154"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupingList.get_group_by_column_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>get the group_by expression, including all the relevant columns and the way of grouping,
but without the “group by” clause, as these potentially have to be nested into one group-by</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.GroupingList.get_index_column_expressions">
<span class="sig-name descname"><span class="pre">get_index_column_expressions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L78-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupingList.get_index_column_expressions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.GroupingList.index">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bach.partitioning.GroupingList.index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bach.partitioning.GroupingSet">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bach.partitioning.</span></span><span class="sig-name descname"><span class="pre">GroupingSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grouping_list</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bach.partitioning.GroupBy" title="bach.partitioning.GroupBy"><span class="pre">bach.partitioning.GroupBy</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L157-L166"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupingSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstraction to support SQLs
GROUP BY GROUPING SETS ((colA,colB),(ColA),(ColC))</p>
<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.GroupingSet.get_group_by_column_expression">
<span class="sig-name descname"><span class="pre">get_group_by_column_expression</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L162-L166"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupingSet.get_group_by_column_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>get the group_by expression, including all the relevant columns and the way of grouping,
but without the “group by” clause, as these potentially have to be nested into one group-by</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.GroupingSet.get_index_column_expressions">
<span class="sig-name descname"><span class="pre">get_index_column_expressions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L78-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.GroupingSet.get_index_column_expressions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.GroupingSet.index">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bach.partitioning.GroupingSet.index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bach.partitioning.Rollup">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bach.partitioning.</span></span><span class="sig-name descname"><span class="pre">Rollup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_by_columns</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L108-L120"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Rollup" title="Permalink to this definition">¶</a></dt>
<dd><p>Very simple abstraction to support rollups</p>
<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.Rollup.get_group_by_column_expression">
<span class="sig-name descname"><span class="pre">get_group_by_column_expression</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L118-L120"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Rollup.get_group_by_column_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>get the group_by expression, including all the relevant columns and the way of grouping,
but without the “group by” clause, as these potentially have to be nested into one group-by</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.Rollup.get_index_column_expressions">
<span class="sig-name descname"><span class="pre">get_index_column_expressions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L78-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Rollup.get_index_column_expressions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.Rollup.index">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bach.partitioning.Rollup.index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bach.partitioning.Window">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bach.partitioning.</span></span><span class="sig-name descname"><span class="pre">Window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_by_columns</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.dataframe.html#bach.dataframe.SortColumn" title="bach.dataframe.SortColumn"><span class="pre">bach.dataframe.SortColumn</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#bach.partitioning.WindowFrameMode" title="bach.partitioning.WindowFrameMode"><span class="pre">bach.partitioning.WindowFrameMode</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">WindowFrameMode.RANGE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_boundary</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#bach.partitioning.WindowFrameBoundary" title="bach.partitioning.WindowFrameBoundary"><span class="pre">bach.partitioning.WindowFrameBoundary</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">WindowFrameBoundary.PRECEDING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_boundary</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#bach.partitioning.WindowFrameBoundary" title="bach.partitioning.WindowFrameBoundary"><span class="pre">bach.partitioning.WindowFrameBoundary</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">WindowFrameBoundary.CURRENT_ROW</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_values</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L169-L374"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Window" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing an “immutable” window as defined in the SQL standard. Any operation on this
class that would alter it returns a fresh copy. It can be reused many time if the window
is reused.</p>
<p>A Window for us is basically a partitioned, sorted view on a DataFrame, where the frame
boundaries as given in the constructor, or in set_frame_clause(), define the window.</p>
<p>A frame is defined in PG as follows:
(See <a class="reference external" href="https://www.postgresql.org/docs/14/sql-expressions.html#SYNTAX-WINDOW-FUNCTIONS">https://www.postgresql.org/docs/14/sql-expressions.html#SYNTAX-WINDOW-FUNCTIONS</a>)</p>
<p>{ RANGE | ROWS } frame_start
{ RANGE | ROWS } BETWEEN frame_start AND frame_end
where frame_start and frame_end can be one of</p>
<p>UNBOUNDED PRECEDING
value PRECEDING
CURRENT ROW
value FOLLOWING
UNBOUNDED FOLLOWING</p>
<p>The frame_clause specifies the set of rows constituting the window frame, for those window
functions that act on the frame instead of the whole partition.</p>
<p>If frame_end is omitted it
defaults to CURRENT ROW.</p>
<p>Restrictions are that
- frame_start cannot be UNBOUNDED FOLLOWING,
- frame_end cannot be UNBOUNDED PRECEDING
- frame_end choice cannot appear earlier in the above list than the frame_start choice:</p>
<blockquote>
<div><p>for example RANGE BETWEEN CURRENT ROW AND value PRECEDING is not allowed.</p>
</div></blockquote>
<p>The default framing option is RANGE UNBOUNDED PRECEDING, which is the same as
RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW; it sets the frame to be all rows from
the partition start up through the current row’s last peer in the ORDER BY ordering
(which means all rows if there is no ORDER BY).</p>
<p>In general, UNBOUNDED PRECEDING means that the frame starts with the first row of the
partition, and similarly UNBOUNDED FOLLOWING means that the frame ends with the last row
of the partition (regardless of RANGE or ROWS mode).</p>
<p>In ROWS mode, CURRENT ROW means that the frame starts or ends with the current row;
In RANGE mode it means that the frame starts or ends with the current row’s first or
last peer in the ORDER BY ordering.</p>
<p>The value PRECEDING and value FOLLOWING cases are currently only allowed in ROWS mode.
They indicate that the frame starts or ends with the row that many rows before or after
the current row.</p>
<p>value must be an integer expression not containing any variables, aggregate functions,
or window functions. The value must not be null or negative; but it can be zero,
which selects the current row itself.</p>
<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.Window.frame_clause">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">frame_clause</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bach.partitioning.Window.frame_clause" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.Window.get_group_by_column_expression">
<span class="sig-name descname"><span class="pre">get_group_by_column_expression</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L370-L374"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Window.get_group_by_column_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>On a Window, there is no default group_by clause</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.Window.get_index_column_expressions">
<span class="sig-name descname"><span class="pre">get_index_column_expressions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L78-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Window.get_index_column_expressions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.Window.get_window_expression">
<span class="sig-name descname"><span class="pre">get_window_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">window_func</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="bach.expression.html#bach.expression.Expression" title="bach.expression.Expression"><span class="pre">bach.expression.Expression</span></a></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L337-L368"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Window.get_window_expression" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Given the window_func generate a statement like:</dt><dd><p>{window_func} OVER (PARTITION BY .. ORDER BY … frame_clause)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.Window.index">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="series/bach.series.series.html#bach.series.series.Series" title="bach.series.series.Series"><span class="pre">bach.series.series.Series</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bach.partitioning.Window.index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.Window.min_values">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">min_values</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></em><a class="headerlink" href="#bach.partitioning.Window.min_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bach.partitioning.Window.order_by">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">order_by</span></span><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="bach.dataframe.html#bach.dataframe.SortColumn" title="bach.dataframe.SortColumn"><span class="pre">bach.dataframe.SortColumn</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bach.partitioning.Window.order_by" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.Window.set_frame_clause">
<span class="sig-name descname"><span class="pre">set_frame_clause</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#bach.partitioning.WindowFrameMode" title="bach.partitioning.WindowFrameMode"><span class="pre">bach.partitioning.WindowFrameMode</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">WindowFrameMode.RANGE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_boundary</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#bach.partitioning.WindowFrameBoundary" title="bach.partitioning.WindowFrameBoundary"><span class="pre">bach.partitioning.WindowFrameBoundary</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">WindowFrameBoundary.PRECEDING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_boundary</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#bach.partitioning.WindowFrameBoundary" title="bach.partitioning.WindowFrameBoundary"><span class="pre">bach.partitioning.WindowFrameBoundary</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">WindowFrameBoundary.CURRENT_ROW</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#bach.partitioning.Window" title="bach.partitioning.Window"><span class="pre">bach.partitioning.Window</span></a></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L307-L323"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.Window.set_frame_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to clone this window with new frame parameters
:see: __init__()</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bach.partitioning.WindowFrameBoundary">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bach.partitioning.</span></span><span class="sig-name descname"><span class="pre">WindowFrameBoundary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L18-L40"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.WindowFrameBoundary" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing the frame boundaries in a Window</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bach.partitioning.WindowFrameBoundary.CURRENT_ROW">
<span class="sig-name descname"><span class="pre">CURRENT_ROW</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#bach.partitioning.WindowFrameBoundary.CURRENT_ROW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bach.partitioning.WindowFrameBoundary.FOLLOWING">
<span class="sig-name descname"><span class="pre">FOLLOWING</span></span><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#bach.partitioning.WindowFrameBoundary.FOLLOWING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bach.partitioning.WindowFrameBoundary.PRECEDING">
<span class="sig-name descname"><span class="pre">PRECEDING</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#bach.partitioning.WindowFrameBoundary.PRECEDING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bach.partitioning.WindowFrameBoundary.frame_clause">
<span class="sig-name descname"><span class="pre">frame_clause</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L28-L40"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.WindowFrameBoundary.frame_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the frame boundary sub-string</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bach.partitioning.WindowFrameMode">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">bach.partitioning.</span></span><span class="sig-name descname"><span class="pre">WindowFrameMode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/objectiv/objectiv-analytics/blob/main/bach/bach/partitioning.py#L10-L15"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bach.partitioning.WindowFrameMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing the frame mode in a Window</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bach.partitioning.WindowFrameMode.RANGE">
<span class="sig-name descname"><span class="pre">RANGE</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#bach.partitioning.WindowFrameMode.RANGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bach.partitioning.WindowFrameMode.ROWS">
<span class="sig-name descname"><span class="pre">ROWS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#bach.partitioning.WindowFrameMode.ROWS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>


              </div>
              
          

      </div>
    </div>